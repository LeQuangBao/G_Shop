@model G_Shop.Models.HoaDon
@{
    ViewBag.Title = "Checkout";
    Layout = "~/Views/Shared/_LayoutNotSlide.cshtml";
}
@Html.ValidationSummary()
<div class="row">
    <div class="col-lg-12">
        <h3>Xem lại đơn hàng</h3>
    </div>
</div>
<hr />
@using(Html.BeginForm()) {
    <label>Khách hàng:</label>
    @Model.NguoiDung.TenDangNhap
    // Ngày mua và tổng tiền hiển thị dưới dạng text, không phải input nên phải có đoạn hidden để truyền đi
    @Html.HiddenFor(m => m.MaNguoiDung, new { @class = "form-control" })
    @Html.HiddenFor(m => m.NgayMua, new { @class = "form-control" })
    @Html.HiddenFor(m => m.TongTien, new { @class = "form-control" })
    <br />
    <label>Ngày đặt hàng:</label>
    @Html.DisplayFor(m => m.NgayMua, "{dd/MM/yyyy}", new { @class = "form-control" })
    <br />
    <br />
    <table class="table table-hover table-condensed">
        <tr>
            <th>Tên cá thể</th>
            <th>Giá</th>
        </tr>
        @foreach(var p in ShoppingCart.Cart.Items) {
            <tr>
                <td>@p.TenCaThe</td>
                <td>@Html.FormatValue(p.GiaBan, "{0:c}")</td>
            </tr>
        }
        <tr>
            <th>Tổng tiền</th>
            <th>@Html.FormatValue(Model.TongTien, "{0:c}")</th>
        </tr>
    </table>
    <div class="form-group col-sm-12">
        <label>Địa chỉ</label>
        @Html.TextBoxFor(m => m.DiaChi, new { @class = "form-control" })
    </div>
    <div class="form-group col-sm-12">
        <label>Ngày giao hàng</label>
        <input class="form-control" type="date" placeholder="MM/dd/yyyy" @*min="@DateTime.Now.ToString("d")"*@ name="ngaygiaohang" />
    </div>

    <div class="col-sm-2">
        <button class="btn btn-primary form-control" type="submit">Đặt hàng</button>
    </div>


}
<script type="text/javascript">
    var today = new Date().toISOString().split('T')[0];
    document.getElementsByName("ngaygiaohang")[0].setAttribute('min', today);
</script>